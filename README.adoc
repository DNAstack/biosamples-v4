https://www.codacy.com/app/afaulconbridge/biosamples-v4?utm_source=github.com&utm_medium=referral&utm_content=EBIBioSamples/biosamples-v4&utm_campaign=badger[image:https://api.codacy.com/project/badge/Grade/c2acf39bb65d4793ae3420c70ab51388[Codacy
Badge]]

# Development getting started

## Install the dependencies
To checkout and compile the code, you will need Git, Maven, and a JDK 8.
On ubuntu-based Linux distributions (16.04 or higher) you can do this
with:

`sudo apt-get install maven git default-jdk`

You should now being able to check out the code from GitHub:

`git clone https://github.com/EBIBioSamples/biosamples-v4 biosamples`

In order to create a local instance of BioSamples services you need to have Docker and Docker-compose installed on you machine. Check out https://www.docker.com/community-edition and https://docs.docker.com/compose/install/ to know how to install these services on your machine.

## Startup the local version of the BioSamples services
Go to the biosamples folder. Run the script that will compile the java application and start up the docker containers using `docker-webapp.sh`.

*Note*: This will require a large download of Spring dependencies and Docker containers and could be a lengthy process depending on your connection.

## Check status ##
Head to http://localhost:8081/biosamples to see your local version of the services. Note that no samples is directly provided with this development version and therefore no results will be shown in the "Search" page.

# What to do now

A test file, `sample_example.json`, is available in this repo.

We would like you to **submit this sample to your local Biosamples environment using the BioSamples JSON API**. 

In order to do that you will need to create an account with the explore version of the EBI AAP authentication/authorization service

You can read more about this in the *Authentication* documentation which should be available locally at http://localhost:8081/biosamples/docs/guides/authentication. 

As a reference, here the links to:
- Register a new user (yourself): https://explore.aap.tsi.ebi.ac.uk/registerUser
- Login with your credentials: https://explore.aap.tsi.ebi.ac.uk/login
- Require an AAP token with the api: https://explore.api.aap.tsi.ebi.ac.uk/auth

Remember that for the submission you will need to use a domain you're member of and not just manager. You can create a domain using the 
programmatic interface or through the link:https://explore.aap.tsi.ebi.ac.uk/myDomains[UI]

You can further details on how to do submit samples in the reference guide that is available in your local copy of BioSamples. Feel free to use commands like `curl` or `httpie` or software like link:https://www.getpostman.com/[Postman] to get the task done.

